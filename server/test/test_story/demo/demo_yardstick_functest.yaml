################################################
# date: 2018/4/20
# spec: test basic logic with service: greet
# author: x-lab.Leo
################################################

---
schema:
  steps:
    -
      id: 1
      name: inject-cpu-workload
      type: test
      service:
        name: yardtstick
        call: REST
      action: run_testcase
      args:
        method: POST
        args:
          testcase: opnfv_yardstick_tc019

    -
      id: 2
      name: monitor-cpu-utility
      type: test
      service:
        name: functest
        call: REST
      action: run_testcase
      args:
        method: POST
        args:
          testcase: functest_tc019
    -
      id: 3
      name: inject-cpu-faultload
      type: test
      service:
        name: yardtstick
        call: REST
      action: run_testcase
      args:
        method: POST
        command: answer
        args:
          testcase: opnfv_yardstick_tc050

  flows:
    -
      name: main
      orders:
        -
          type: normal
          step: 1
        -
          type: normal
          step: 2
        -
          type: normal
          step: 3